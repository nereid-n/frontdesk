{"version":3,"sources":["script.js","header/header.js","modal-video/modal-video.js","calculate/calculate.js"],"names":["Shared","$","document","ready","click","toggleClass","addClass","e","block","is","target","has","length","removeClass","Calculator","currStatePriceEl","querySelector","currEmployeeEl","currHrsWeekEl","stateFinalPrice","stateOfferPrice","ourFinalPrice","ourOfferPrice","defaultStatePrice","ourPrice","Number","getAttribute","statePrice","getAndSetCurrentPrice","el","tax","price","taxArr","split","i","Math","round","type","employee","hrs","dataType","priceHrCalc","setAttribute","time","getHrs","employees","getEmployees","innerHTML","priceCalc","addEventListener","calc","selects","querySelectorAll","options","slideToggle","j","text","parent","closest","value"],"mappings":"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","file":"script.js","sourcesContent":["class Shared {\r\n    constructor() {}\r\n}","$(document).ready(function() {\r\n  $('.header__menu-btn').click(function() {\r\n    $('.header__menu').toggleClass('header__menu_show');\r\n  });\r\n});","$(document).ready(function() {\r\n  $('.video-btn-js').click(function() {\r\n    $('.modal-video').addClass('modal-video-show');\r\n  });\r\n  $('.modal-video').click(function(e) {\r\n    var block = $('.modal-video__content-js');\r\n    if(!block.is(e.target) && block.has(e.target).length === 0 || $('.modal-video__btn-close-js').is(e.target)) {\r\n      $('.modal-video').removeClass('modal-video-show');\r\n    }\r\n  });\r\n});","class Calculator {\r\n  constructor() {\r\n    this.currStatePriceEl = document.querySelector('.js-currStatePrice');\r\n    this.currEmployeeEl = document.querySelector('.js-currEmployee');\r\n    this.currHrsWeekEl = document.querySelector('.js-currTime');\r\n    this.stateFinalPrice = document.querySelector('.js-stateFinalPrice');\r\n    this.stateOfferPrice = document.querySelector('.js-statePrice');\r\n    this.ourFinalPrice = document.querySelector('.js-ourFinalPrice');\r\n    this.ourOfferPrice = document.querySelector('.js-ourPrice');\r\n    this.defaultStatePrice = document.querySelector('[data-type=\"price\"]');\r\n    this.ourPrice = Number(this.currStatePriceEl.getAttribute('data-ourPrice'));\r\n    this.statePrice = 0;\r\n    this.getAndSetCurrentPrice(this.defaultStatePrice);\r\n  }\r\n\r\n  /**\r\n   * calculate price for 1hr in current state\r\n   *\r\n   * @param el\r\n   * @returns {number}\r\n   */\r\n  priceHrCalc(el) {\r\n    let tax = 0;\r\n    const price = el.getAttribute('data-basePrice');\r\n    const taxArr = el.getAttribute('data-tax').split('+');\r\n\r\n    for (let i = 0; i < taxArr.length; i++) {\r\n      tax += Number(taxArr[i]);\r\n    }\r\n    return Math.round(Number(price) * (1 + (tax/100)) * 100) / 100;\r\n  }\r\n\r\n  /**\r\n   * calculate final price\r\n   *\r\n   * @param type - type state price or beacons\r\n   * @param employee\r\n   * @param hrs\r\n   * @returns {number}\r\n   */\r\n  priceCalc(type, employee, hrs) {\r\n    if (type === 'state') {\r\n      return Math.round(Number(this.currStatePriceEl.getAttribute('data-currPrice')) * hrs * employee * 100) / 100;\r\n    } else if (type === 'our') {\r\n      return Math.round(this.ourPrice * hrs * employee * 100) / 100;\r\n    }\r\n  }\r\n\r\n  getHrs() {\r\n    return Number(this.currHrsWeekEl.getAttribute('data-currTime'));\r\n  }\r\n\r\n  getEmployees() {\r\n    return Number(this.currEmployeeEl.getAttribute('data-currEmployee'));\r\n  }\r\n\r\n  /**\r\n   * get element attribute\r\n   *\r\n   * @param el - element on click\r\n   */\r\n  getAttribute(el) {\r\n    const dataType = el.getAttribute('data-type');\r\n\r\n    if (dataType === 'price') {\r\n      const price = this.priceHrCalc(el);\r\n      this.statePrice = price;\r\n      this.currStatePriceEl.setAttribute('data-currPrice', price);\r\n    }\r\n\r\n    if (dataType === 'time') {\r\n      const time = el.getAttribute('data-time');\r\n      this.currHrsWeekEl.setAttribute('data-currTime', time);\r\n    }\r\n\r\n    if (dataType === 'employee') {\r\n      const employee = el.getAttribute('data-employee');\r\n      this.currEmployeeEl.setAttribute('data-currEmployee', employee);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * calculate price and write it to fields\r\n   *\r\n   * @param el - element on click\r\n   */\r\n  getAndSetCurrentPrice(el) {\r\n    this.getAttribute(el);\r\n    const hrs = this.getHrs();\r\n    const employees = this.getEmployees();\r\n    this.stateOfferPrice.innerHTML = `$${this.statePrice}`;\r\n    this.stateFinalPrice.innerHTML = `$${this.priceCalc('state', hrs, employees)}`;\r\n    this.ourOfferPrice.innerHTML = `$${this.ourPrice}`;\r\n    this.ourFinalPrice.innerHTML = `$${this.priceCalc('our', hrs, employees)}`;\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  let calc = new Calculator();\r\n  const selects = document.querySelectorAll('.select-wrap');\r\n  const options = document.querySelectorAll('.select-option');\r\n\r\n  for (let i = 0; i < selects.length; i++) {\r\n    selects[i].addEventListener('click', function () {\r\n      $(this.querySelector('.select-options')).slideToggle(200);\r\n    });\r\n  }\r\n\r\n  for (let j = 0; j < options.length; j++) {\r\n    options[j].addEventListener('click', function () {\r\n      let text = this.innerHTML;\r\n      let parent = this.closest('.select-wrap');\r\n      parent.querySelector('.select span').innerHTML = text;\r\n      parent.querySelector('.input-hidden').value = text;\r\n\r\n      calc.getAndSetCurrentPrice(options[j]);\r\n    })\r\n  }\r\n});"]}